<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ì‘ì—…ë³„ ë³´í˜¸êµ¬ ì°©ìš© ì˜·ì…íˆê¸° ê²Œì„</title>
  <style>
    /* ê³µí†µ */
    body { margin: 0; padding: 0; font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Open Sans", "Helvetica Neue", sans-serif; background-color: #f5f5f7; }
    .page { display: none; }
    .page.active { display: block; }

    /* ì• í”Œ ìŠ¤íƒ€ì¼ ê³µí†µ ì»¨í…Œì´ë„ˆ */
    .apple-container { background-color: #ffffff; border-radius: 20px; padding: 40px; box-shadow: 0 4px 16px rgba(0,0,0,0.1); margin: 40px auto; max-width: 400px; }
    .apple-button { background-color: #007aff; color: #ffffff; border: none; border-radius: 10px; padding: 14px 28px; font-size: 17px; font-weight: 600; cursor: pointer; width: 100%; }
    .apple-button:active { background-color: #005ecb; }
    .apple-input { -webkit-appearance: none; appearance: none; background-color: #ffffff; border: 1px solid #d1d1d6; border-radius: 10px; padding: 12px 16px; width: 100%; font-size: 17px; margin-bottom: 20px; }
    h2 { font-size: 24px; font-weight: 600; margin-bottom: 24px; color: #1c1c1e; }

    /* í˜ì´ì§€1, í˜ì´ì§€2, í˜ì´ì§€8 ìŠ¤íƒ€ì¼ */
    #page1, #page2, #page8 { min-height: 100vh; display: flex; justify-content: center; align-items: center; }

    /* í˜ì´ì§€1 */
    #page1 img { max-width: 100%; height: auto; margin-bottom: 24px; }

    /* ì…ë ¥ ì•ˆë‚´ ë¹¨ê°„ ê¸€ì”¨ ì œê±° (ê¸°ì¡´ .blink ìŠ¤íƒ€ì¼ ê·¸ëŒ€ë¡œ ìˆ¨ê¹€) */
    .blink { display: none; }

    /* í˜ì´ì§€8 ìˆ˜ë£Œì¦ ë°•ìŠ¤ */
    #certificate-box { text-align: center; }
    #certificate-box h2 { color: #000000; margin-bottom: 16px; }

    /* ë‚˜ë¨¸ì§€ í˜ì´ì§€(3-7)ëŠ” ê¸°ì¡´ ìŠ¤íƒ€ì¼ ìœ ì§€ */
    /* ... (ìƒëµ, ê¸°ì¡´ CSSë¥¼ ê·¸ëŒ€ë¡œ ìœ ì§€) */
  </style>
</head>
<body>
  <!-- í˜ì´ì§€1: ì‹œì‘ í™”ë©´ -->
  <div id="page1" class="page active">
    <div class="apple-container">
      <h2>ì‘ì—…ë³„ ë³´í˜¸êµ¬ ì°©ìš© êµìœ¡</h2>
      <img src="https://i.imgur.com/Tu6mJ5J.png" alt="ë©”ì¸ ì´ë¯¸ì§€">
      <button id="startButton" class="apple-button">êµìœ¡ ì‹œì‘í•˜ê¸°</button>
    </div>
  </div>

  <!-- í˜ì´ì§€2: êµìœ¡ ì •ë³´ ì…ë ¥ -->
  <div id="page2" class="page">
    <div class="apple-container">
      <h2>êµìœ¡ ì •ë³´ ì…ë ¥</h2>
      <input type="text" id="siteName" class="apple-input" placeholder="í˜„ì¥ëª… ì…ë ¥">
      <input type="text" id="workerName" class="apple-input" placeholder="ê·¼ë¡œì ì´ë¦„ ì…ë ¥">
      <input type="text" id="workerAffiliation" class="apple-input" placeholder="ì†Œì† ì…ë ¥">
      <button id="toPage3" class="apple-button">ë‹¤ìŒ</button>
    </div>
  </div>

  <!-- ë‚˜ë¨¸ì§€ í˜ì´ì§€3-7 ë™ì¼ (ê¸°ì¡´ ì½”ë“œ) -->
  <!-- ... (í˜ì´ì§€3-7 ì½”ë“œ ìœ ì§€) -->

  <!-- í˜ì´ì§€8: ìˆ˜ë£Œì¦ í™”ë©´ -->
  <div id="page8" class="page">
    <div class="apple-container">
      <div id="certificate-box">
        <h2>ìˆ˜ë£Œì¦</h2>
        <p id="cert-siteName"></p>
        <p id="cert-workerName"></p>
        <p id="cert-workerAffiliation"></p>
        <p>ìµœì¢… ì ìˆ˜: <span id="final-score">0</span>ì </p>
        <p>ë³´í˜¸êµ¬ êµìœ¡ì„ ëª¨ë‘ ìˆ˜ë£Œí•˜ì…¨ìŠµë‹ˆë‹¤.</p>
      </div>
      <button id="saveCert" class="apple-button" style="margin-top:20px;">ì €ì¥í•˜ê¸°</button>
      <button id="homeButton" class="apple-button" style="margin-top:10px;">í™ˆìœ¼ë¡œ</button>
      <h3 style="margin-top:40px; text-align:center; font-size:18px; font-weight:500; color:#1c1c1e;">ğŸ† ì´ë²ˆ ì£¼ ë­í‚¹</h3>
      <div id="ranking-loading" style="text-align:center; color:#666; font-style:italic;">ë­í‚¹ì„ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘...</div>
      <table id="ranking-table" style="width:100%; display:none; border-collapse:collapse; margin-top:20px;">
        <thead><tr><th>ìˆœìœ„</th><th>ê·¼ë¡œì ì´ë¦„</th><th>í˜„ì¥ëª…</th><th>ì†Œì†</th><th>ì ìˆ˜</th></tr></thead>
        <tbody id="ranking-body"></tbody>
      </table>
    </div>
  </div>

  <!-- ìŠ¤í¬ë¦½íŠ¸: ê¸°ì¡´ ê·¸ëŒ€ë¡œ (html2canvas ìº¡ì³ ëŒ€ìƒ ë³€ê²½ ë¶ˆí•„ìš”) -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
  <script>
    // í˜ì´ì§€ ì „í™˜ ë° ê²Œì„ ë¡œì§ì€ ê¸°ì¡´ ì½”ë“œ ìœ ì§€
    function showPage(pageId) {
      document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
      document.getElementById(pageId).classList.add('active');
    }
    document.getElementById('startButton').addEventListener('click', () => showPage('page2'));
    document.getElementById('toPage3').addEventListener('click', () => {
      if (!siteName.value.trim() || !workerName.value.trim() || !workerAffiliation.value.trim()) {
        alert('í˜„ì¥ëª…, ê·¼ë¡œì ì´ë¦„, ì†Œì†ì„ ëª¨ë‘ ì…ë ¥í•´ì£¼ì„¸ìš”.');
        return;
      }
      showPage('page3');
      // ... (ë‚˜ë¨¸ì§€ ì´ˆê¸°í™” ë¡œì§ ì´ì–´ì„œ ì‹¤í–‰)
    });

    document.getElementById('saveCert').addEventListener('click', () => {
      html2canvas(document.getElementById('certificate-box')).then(canvas => {
        const link = document.createElement('a');
        link.download = 'certificate.png';
        link.href = canvas.toDataURL();
        link.click();
      });
    });
    document.getElementById('homeButton').addEventListener('click', () => location.reload());
  </script>
</body>
</html>
